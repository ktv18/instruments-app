(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){e.exports=n(289)},125:function(e,t,n){},25:function(e,t,n){e.exports={dialogPaper:"styles_dialogPaper__v2owU",header:"styles_header__3Jf1G",content:"styles_content__3Ugu7",footer:"styles_footer__1ZpS4",actions:"styles_actions__3iwUz",formContent:"styles_formContent__3b_hM"}},27:function(e,t,n){e.exports={paper:"styles_paper__1oSn_",blocks:"styles_blocks__24YGf",block:"styles_block__utM80"}},287:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(19),o=n.n(s),i=(n(125),n(38)),c=n.n(i),l=n(68),u=n(119),h=n(14),p=n(15),d=n(17),m=n(16),f=n(18),v=n(111),b=n.n(v),y=n(109),g=n.n(y),O=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(g.a,Object.assign({color:"primary"},this.props)))}}]),t}(a.Component),j=n(69),E=n.n(j),C=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(O,Object.assign({},this.props,{className:E.a.addInstrumentButton,variant:"contained"}),r.a.createElement(b.a,{fontSize:"large",classes:{root:E.a.icon}}))}}]),t}(a.Component),k=n(24),I=n(113),_=n.n(I),w=n(116),S=n.n(w),N=n(117),F=n.n(N),x=n(114),T=n.n(x),B=n(115),V=n.n(B),A=n(37),W=n.n(A),M=n(21),D=n(31),P=n(65),L=n.n(P),U=n(67),q=n.n(U),J=n(66),R=n.n(J),G=n(64),z=n.n(G),Y=n(36),$=n.n(Y),H=n(70),Z=n.n(H),K=Object(M.createMuiTheme)({palette:{primary:{main:"rgb(43, 209, 179)",contrastText:"#fff"}}}),Q=function(e){function t(){var e,n,a;Object(h.a)(this,t);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state=(n={},Object(D.a)(n,a.props.name,""),Object(D.a)(n,"labelWidth",0),n),a.inputLabelRef=r.a.createRef(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r),a.props.onChange(r))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"setLabelWidth",value:function(e){this.setState({labelWidth:e})}},{key:"getInputId",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).name;return"input-".concat(e,"-id")}},{key:"componentDidMount",value:function(){if(this.props.outlined){var e=o.a.findDOMNode(this.inputLabelRef.current);this.setLabelWidth(e.offsetWidth)}}},{key:"getSelectInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.outlined,n=e.name;return t?r.a.createElement(z.a,{labelWidth:this.state.labelWidth,name:n,id:this.getInputId()}):r.a.createElement($.a,{name:n,id:this.getInputId()})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.options,a=void 0===n?[]:n,s=e.name,o=e.label,i=e.noneLabel,c=e.error,l=e.disabled,u=e.outlined;return r.a.createElement(M.MuiThemeProvider,{theme:K},r.a.createElement(L.a,{fullWidth:!0,variant:u?"outlined":"",className:t.formControl,error:c,disabled:l},r.a.createElement(R.a,{ref:this.inputLabelRef,htmlFor:this.getInputId()},o),r.a.createElement(q.a,{value:this.state[s],onChange:this.handleChange,input:this.getSelectInput()},i&&r.a.createElement(Z.a,{value:""},r.a.createElement("em",null,i)),a.map(function(e){var t=e.value,n=e.name;return r.a.createElement(Z.a,{key:t,value:t},n)}))))}}]),t}(a.Component),X=Object(M.withStyles)(function(){return{formControl:{marginTop:"24px"}}})(Q),ee=n(112),te=n.n(ee),ne=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},n.handleChange=function(e){var t=e.target.value;n.setState({value:t},n.props.onChange(t))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.fullWidth,a=void 0===n||n,s=e.errorMessage,o=e.variant,i=void 0===o?"outlined":o,c=e.helperText;return r.a.createElement(te.a,Object.assign({},this.props,{onChange:this.handleChange,variant:i,fullWidth:a,helperText:t?s:c}))}}]),t}(a.Component),ae=n(25),re=n.n(ae),se=[{value:"_id_1",name:"guitar"},{value:"_id_2",name:"drum"},{value:"_id_3",name:"saxophone"},{value:"_id_4",name:"violin"}],oe=function(){return{inputs:{name:{value:"",focused:!1,isValid:!1},type:{value:"",focused:!1,isValid:!1},description:{value:"",focused:!1,isValid:!1},cost:{value:"",focused:!1,isValid:!1}},showValidationErrors:!1}},ie=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=Object(k.a)({},oe()),n.handleClose=function(){var e=n.props.onClose,t=void 0===e?function(){}:e;n.resetState(t)},n.handleSubmit=function(e){e.preventDefault(),n.setState({showValidationErrors:!0});var t=n.props.onSubmit,a=n.getInputValues(n.state.inputs);if(n.isFormValid(a))return n.resetState(function(){return t(a)})},n.handleInputChange=function(e){return function(t){var a=Object(k.a)({},n.state.inputs);a[e].value=t,a[e].isValid=n.checkValidity(t),n.setState({inputs:a})}},n.handleInputFocus=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var a=Object(k.a)({},n.state.inputs);a[e].focused=t,n.setState({inputs:a})}},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getInputValues",value:function(e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n].value,t},{})}},{key:"isFormValid",value:function(e){return Object.values(e).every(this.checkValidity)}},{key:"checkValidity",value:function(e){return!!e}},{key:"resetState",value:function(e){this.setState(Object(k.a)({},oe()),e)}},{key:"getInputStateByName",value:function(e){return this.state.inputs[e]}},{key:"shouldShowError",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state).showValidationErrors,n=this.getInputStateByName(e);return t&&!n.isValid&&!n.focused}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.classes;return r.a.createElement(a.Fragment,null,r.a.createElement(_.a,{open:t,classes:{paper:re.a.dialogPaper},onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement("div",{className:re.a.header},r.a.createElement(W.a,{variant:"h5"},"Add an instrument"),r.a.createElement(T.a,{color:"inherit",onClick:this.handleClose,"aria-label":"Close"},r.a.createElement(V.a,null))),r.a.createElement(S.a,null),r.a.createElement("div",{className:re.a.content},r.a.createElement("form",{className:re.a.form,id:"addInstrumetnForm",onSubmit:this.handleSubmit},r.a.createElement("div",{className:re.a.formContent},r.a.createElement(ne,{className:n.textField,onFocus:this.handleInputFocus("name"),onBlur:this.handleInputFocus("name",!1),onChange:this.handleInputChange("name"),name:"type",label:"Name",errorMessage:"This field is required",error:this.shouldShowError("name")}),r.a.createElement(X,{className:n.textField,onFocus:this.handleInputFocus("type"),onBlur:this.handleInputFocus("type",!1),onChange:this.handleInputChange("type"),name:"type",label:"Type",options:se,outlined:!0,error:this.shouldShowError("type")}),r.a.createElement(ne,{className:n.textField,onFocus:this.handleInputFocus("description"),onBlur:this.handleInputFocus("description",!1),onChange:this.handleInputChange("description"),multiline:!0,label:"Description",inputProps:{maxlength:300},helperText:"Up to 300 characters",error:this.shouldShowError("description"),errorMessage:"This field is required"}),r.a.createElement(ne,{className:n.textField,onFocus:this.handleInputFocus("cost"),onBlur:this.handleInputFocus("cost",!1),onChange:this.handleInputChange("cost"),placeholder:"Cost",InputProps:{startAdornment:r.a.createElement(F.a,{position:"start"},"$")},error:this.shouldShowError("cost"),errorMessage:"This field is required"})))),r.a.createElement("div",{className:re.a.footer},r.a.createElement("div",{className:re.a.actions},r.a.createElement(O,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(O,{type:"submit",form:"addInstrumetnForm",variant:"contained",color:"primary"},"Save")))))}}]),t}(a.Component),ce=Object(M.withStyles)(function(){return{textField:{marginTop:"16px"}}})(ie),le=n(118),ue=n.n(le),he=n(50),pe=n.n(he),de=n(51),me=n.n(de),fe=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getClassName",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).className;return pe.a.bind(me.a)(me.a.wrapper,e)}},{key:"render",value:function(){var e=this.props.name;return r.a.createElement("div",{className:this.getClassName()},r.a.createElement(ue.a,{title:e},r.a.createElement(O,Object.assign({},this.props,{className:me.a.InstrumentBlock,variant:"contained",color:"secondary"}))))}}]),t}(a.Component),ve=n(49),be=n.n(ve),ye=n(27),ge=n.n(ye),Oe=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getClassName",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).className;return pe.a.bind(ge.a)(ge.a.wrapper,e)}},{key:"render",value:function(){var e=this.props,t=e.instruments,n=e.onAddInstrument;return r.a.createElement("div",{className:this.getClassName()},r.a.createElement(be.a,{classes:{root:ge.a.paper}},r.a.createElement("div",{className:ge.a.header},r.a.createElement(W.a,{variant:"h5"},"Instruments")),r.a.createElement("div",{className:ge.a.blocks},t.map(function(e){var t=e.name;return r.a.createElement(fe,{className:ge.a.block,key:t,name:t})}),r.a.createElement(C,{onClick:n,"aria-label":"Add instrument"}))))}}]),t}(a.Component),je={Accept:"application/json","Content-Type":"application/json"},Ee={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"GET",headers:Object(k.a)({},je,t)})},post:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch(e,{method:"POST",headers:Object(k.a)({},je,n),body:JSON.stringify(t)})}},Ce=Object(M.createMuiTheme)({palette:{primary:{main:"rgb(43, 209, 179)",contrastText:"#fff"},bla:{main:"red"},secondary:{main:"#2b4bd1"}},typography:{h5:{color:"#4c4f58"}}}),ke=function(e){var t=function(t){function n(){return Object(h.a)(this,n),Object(d.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement(M.MuiThemeProvider,{theme:Ce},r.a.createElement(e,this.props))}}]),n}(a.Component);return t.displayName="WithUpload(".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.displayName||e.name||"Component"}(e),")"),t},Ie=(n(287),"apiHost/api/v1"),_e=ke(function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={dialogOpen:!1,instruments:[]},n.handleAddButtonClick=function(){return n.setState({dialogOpen:!0})},n.handleDialogClose=function(){return n.setState({dialogOpen:!1})},n.handleAddInstrument=function(e){var t=Object(u.a)(n.state.instruments).concat([e]);n.createInstrumentFetch(e),n.setState({instruments:t,dialogOpen:!1})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchInstruments()}},{key:"fetchInstruments",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Ie,"/instruments"),e.prev=1,e.next=4,Ee.get(t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,this.setState({instruments:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"createInstrumentFetch",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Ie,"/instruments"),e.prev=1,e.next=4,Ee.post(n,t);case 4:if(a=e.sent,200===a.status){e.next=8;break}throw new Error("could not create an instrument");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.instruments;return r.a.createElement(a.Fragment,null,r.a.createElement(Oe,{instruments:e,title:"Instruments",onAddInstrument:this.handleAddButtonClick}),r.a.createElement(ce,{open:this.state.dialogOpen,onClose:this.handleDialogClose,onSubmit:this.handleAddInstrument}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e,t,n){e.exports={wrapper:"styles_wrapper__r5qW8",InstrumentBlock:"styles_InstrumentBlock__rIlhl"}},69:function(e,t,n){e.exports={addInstrumentButton:"styles_addInstrumentButton__2DYrm"}}},[[120,2,1]]]);
//# sourceMappingURL=main.0f8cd464.chunk.js.map