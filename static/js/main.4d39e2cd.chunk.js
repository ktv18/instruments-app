(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){e.exports={instrumentsWrapper:"App_instrumentsWrapper__Mi0U2"}},125:function(e,t,n){e.exports=n(293)},130:function(e,t,n){},23:function(e,t,n){e.exports={dialogPaper:"styles_dialogPaper__v2owU",header:"styles_header__3Jf1G",content:"styles_content__3Ugu7",footer:"styles_footer__1ZpS4",actions:"styles_actions__3iwUz",formContent:"styles_formContent__3b_hM",InputAdornment:"styles_InputAdornment__3IDfb"}},27:function(e,t,n){e.exports={paper:"styles_paper__1oSn_",blocks:"styles_blocks__24YGf",block:"styles_block__utM80"}},293:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(19),o=n.n(s),i=(n(130),n(41)),l=n.n(i),c=n(73),u=n(124),h=n(14),p=n(15),d=n(17),m=n(16),f=n(18),v=n(31),b=n.n(v),g=n(114),y=n.n(g),O=n(112),j=n.n(O),E=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(j.a,Object.assign({color:"primary"},this.props)))}}]),t}(a.Component),C=n(51),k=n.n(C),I=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getClassName",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).className;return b.a.bind(k.a)(k.a.addInstrumentButton,e)}},{key:"render",value:function(){return r.a.createElement(E,Object.assign({},this.props,{className:this.getClassName(),variant:"contained"}),r.a.createElement(y.a,{fontSize:"large",classes:{root:k.a.icon}}))}}]),t}(a.Component),_=n(25),w=n(116),S=n.n(w),N=n(119),x=n.n(N),F=n(120),A=n.n(F),T=n(117),W=n.n(T),B=n(118),V=n.n(B),M=n(40),D=n.n(M),P=n(21),L=n(121),U=n.n(L),q=n(32),J=n(70),R=n.n(J),G=n(72),z=n.n(G),Y=n(71),$=n.n(Y),H=n(69),Z=n.n(H),K=n(39),Q=n.n(K),X=n(74),ee=n.n(X),te=Object(P.createMuiTheme)({palette:{primary:{main:"rgb(43, 209, 179)",contrastText:"#fff"}}}),ne=function(e){function t(){var e,n,a;Object(h.a)(this,t);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state=(n={},Object(q.a)(n,a.props.name,""),Object(q.a)(n,"labelWidth",0),n),a.inputLabelRef=r.a.createRef(),a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(q.a)({},n,r),a.props.onChange(r))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"setLabelWidth",value:function(e){this.setState({labelWidth:e})}},{key:"getInputId",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).name;return"input-".concat(e,"-id")}},{key:"componentDidMount",value:function(){if(this.props.outlined){var e=o.a.findDOMNode(this.inputLabelRef.current);this.setLabelWidth(e.offsetWidth)}}},{key:"getSelectInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.outlined,n=e.name;return t?r.a.createElement(Z.a,{labelWidth:this.state.labelWidth,name:n,id:this.getInputId()}):r.a.createElement(Q.a,{name:n,id:this.getInputId()})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.options,a=void 0===n?[]:n,s=e.name,o=e.label,i=e.noneLabel,l=e.error,c=e.disabled,u=e.outlined;return r.a.createElement(P.MuiThemeProvider,{theme:te},r.a.createElement(R.a,{fullWidth:!0,variant:u?"outlined":"",className:t.formControl,error:l,disabled:c},r.a.createElement($.a,{ref:this.inputLabelRef,htmlFor:this.getInputId()},o),r.a.createElement(z.a,{value:this.state[s],onChange:this.handleChange,input:this.getSelectInput()},i&&r.a.createElement(ee.a,{value:""},r.a.createElement("em",null,i)),a.map(function(e){var t=e.value,n=e.name;return r.a.createElement(ee.a,{key:t,value:t},n)}))))}}]),t}(a.Component),ae=Object(P.withStyles)(function(){return{formControl:{marginTop:"24px"}}})(ne),re=n(115),se=n.n(re),oe=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},n.handleChange=function(e){var t=e.target.value;n.setState({value:t},n.props.onChange(t))},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.fullWidth,a=void 0===n||n,s=e.errorMessage,o=e.variant,i=void 0===o?"outlined":o,l=e.helperText;return r.a.createElement(se.a,Object.assign({},this.props,{onChange:this.handleChange,variant:i,fullWidth:a,helperText:t?s:l}))}}]),t}(a.Component),ie=n(23),le=n.n(ie),ce=[{value:"_id_1",name:"guitar"},{value:"_id_2",name:"drum"},{value:"_id_3",name:"saxophone"},{value:"_id_4",name:"violin"}],ue=function(){return{inputs:{name:{value:"",focused:!1,isValid:!1},type:{value:"",focused:!1,isValid:!1},description:{value:"",focused:!1,isValid:!1},cost:{value:"",focused:!1,isValid:!1}},showValidationErrors:!1}},he=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=Object(_.a)({},ue()),n.handleClose=function(){var e=n.props.onClose,t=void 0===e?function(){}:e;n.resetState(t)},n.handleSubmit=function(e){e.preventDefault(),n.setState({showValidationErrors:!0});var t=n.props.onSubmit,a=n.getInputValues(n.state.inputs);if(n.isFormValid(a))return n.resetState(function(){return t(a)})},n.handleInputChange=function(e){return function(t){var a=Object(_.a)({},n.state.inputs);a[e].value=t,a[e].isValid=n.checkValidity(t),n.setState({inputs:a})}},n.handleInputFocus=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var a=Object(_.a)({},n.state.inputs);a[e].focused=t,n.setState({inputs:a})}},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getInputValues",value:function(e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n].value,t},{})}},{key:"isFormValid",value:function(e){return Object.values(e).every(this.checkValidity)}},{key:"checkValidity",value:function(e){return!!e}},{key:"resetState",value:function(e){this.setState(Object(_.a)({},ue()),e)}},{key:"getInputStateByName",value:function(e){return this.state.inputs[e]}},{key:"shouldShowError",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state).showValidationErrors,n=this.getInputStateByName(e);return t&&!n.isValid&&!n.focused}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.classes,s=e.fullScreen;return r.a.createElement(a.Fragment,null,r.a.createElement(S.a,{fullScreen:s,open:t,classes:{paper:le.a.dialogPaper},onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement("div",{className:le.a.header},r.a.createElement(D.a,{variant:"h5"},"Add an instrument"),r.a.createElement(W.a,{color:"inherit",onClick:this.handleClose,"aria-label":"Close"},r.a.createElement(V.a,null))),r.a.createElement(x.a,null),r.a.createElement("div",{className:le.a.content},r.a.createElement("form",{className:le.a.form,id:"addInstrumetnForm",onSubmit:this.handleSubmit},r.a.createElement("div",{className:le.a.formContent},r.a.createElement(oe,{className:n.textField,onFocus:this.handleInputFocus("name"),onBlur:this.handleInputFocus("name",!1),onChange:this.handleInputChange("name"),name:"type",label:"Name",errorMessage:"This field is required",error:this.shouldShowError("name")}),r.a.createElement(ae,{className:n.textField,onFocus:this.handleInputFocus("type"),onBlur:this.handleInputFocus("type",!1),onChange:this.handleInputChange("type"),name:"type",label:"Type",options:ce,outlined:!0,error:this.shouldShowError("type")}),r.a.createElement(oe,{className:n.textField,onFocus:this.handleInputFocus("description"),onBlur:this.handleInputFocus("description",!1),onChange:this.handleInputChange("description"),multiline:!0,label:"Description",inputProps:{maxlength:300},helperText:"Up to 300 characters",error:this.shouldShowError("description"),errorMessage:"This field is required"}),r.a.createElement(oe,{className:n.textField,onFocus:this.handleInputFocus("cost"),onBlur:this.handleInputFocus("cost",!1),onChange:this.handleInputChange("cost"),placeholder:"Cost",InputProps:{startAdornment:r.a.createElement(A.a,{classes:{root:le.a.InputAdornment},position:"start"},"$")},error:this.shouldShowError("cost"),errorMessage:"This field is required"})))),r.a.createElement("div",{className:le.a.footer},r.a.createElement("div",{className:le.a.actions},r.a.createElement(E,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(E,{type:"submit",form:"addInstrumetnForm",variant:"contained",color:"primary"},"Save")))))}}]),t}(a.Component),pe=U()()(Object(P.withStyles)(function(){return{textField:{marginTop:"16px"}}})(he)),de=n(122),me=n.n(de),fe=n(52),ve=n.n(fe),be=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getClassName",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).className;return b.a.bind(ve.a)(ve.a.wrapper,e)}},{key:"render",value:function(){var e=this.props.name;return r.a.createElement("div",{className:this.getClassName()},r.a.createElement(me.a,{title:e},r.a.createElement(E,Object.assign({},this.props,{className:ve.a.InstrumentBlock,variant:"contained",color:"secondary"}))))}}]),t}(a.Component),ge=n(50),ye=n.n(ge),Oe=n(27),je=n.n(Oe),Ee=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getClassName",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).className;return b.a.bind(je.a)(je.a.wrapper,e)}},{key:"render",value:function(){var e=this.props,t=e.instruments,n=e.onAddInstrument;return r.a.createElement("div",{className:this.getClassName()},r.a.createElement(ye.a,{classes:{root:je.a.paper}},r.a.createElement("div",{className:je.a.header},r.a.createElement(D.a,{variant:"h5"},"Instruments")),r.a.createElement("div",{className:je.a.blocks},t.map(function(e){var t=e.name;return r.a.createElement(be,{className:je.a.block,key:t,name:t})}),r.a.createElement(I,{onClick:n,"aria-label":"Add instrument"}))))}}]),t}(a.Component),Ce={Accept:"application/json","Content-Type":"application/json"},ke={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"GET",headers:Object(_.a)({},Ce,t)})},post:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch(e,{method:"POST",headers:Object(_.a)({},Ce,n),body:JSON.stringify(t)})}},Ie=Object(P.createMuiTheme)({palette:{primary:{main:"rgb(43, 209, 179)",contrastText:"#fff"},secondary:{main:"rgb(43, 75, 209)"}},typography:{h5:{color:"#4c4f58"}}}),_e=function(e){var t=function(t){function n(){return Object(h.a)(this,n),Object(d.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(f.a)(n,t),Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement(P.MuiThemeProvider,{theme:Ie},r.a.createElement(e,this.props))}}]),n}(a.Component);return t.displayName="WithUpload(".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.displayName||e.name||"Component"}(e),")"),t},we=n(123),Se=n.n(we),Ne="apiHost/api/v1",xe=_e(function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={dialogOpen:!1,instruments:[]},n.handleAddButtonClick=function(){return n.setState({dialogOpen:!0})},n.handleDialogClose=function(){return n.setState({dialogOpen:!1})},n.handleAddInstrument=function(e){var t=Object(u.a)(n.state.instruments).concat([e]);n.createInstrumentFetch(e),n.setState({instruments:t,dialogOpen:!1})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchInstruments()}},{key:"fetchInstruments",value:function(){var e=Object(c.a)(l.a.mark(function e(){var t,n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Ne,"/instruments"),e.prev=1,e.next=4,ke.get(t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,this.setState({instruments:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"createInstrumentFetch",value:function(){var e=Object(c.a)(l.a.mark(function e(t){var n,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Ne,"/instruments"),e.prev=1,e.next=4,ke.post(n,t);case 4:if(a=e.sent,200===a.status){e.next=8;break}throw new Error("could not create an instrument");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.instruments;return r.a.createElement(a.Fragment,null,r.a.createElement(Ee,{className:Se.a.instrumentsWrapper,instruments:e,title:"Instruments",onAddInstrument:this.handleAddButtonClick}),r.a.createElement(pe,{open:this.state.dialogOpen,onClose:this.handleDialogClose,onSubmit:this.handleAddInstrument}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},51:function(e,t,n){e.exports={addInstrumentButton:"styles_addInstrumentButton__2DYrm"}},52:function(e,t,n){e.exports={wrapper:"styles_wrapper__r5qW8",InstrumentBlock:"styles_InstrumentBlock__rIlhl"}}},[[125,2,1]]]);
//# sourceMappingURL=main.4d39e2cd.chunk.js.map